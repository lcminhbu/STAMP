@page
@model HomeRankingModel
@{
    ViewData["Title"] = "Bảng xếp hạng";
}
<head>
<link rel="stylesheet" href="~/css/userprofile.css" asp-append-version="true"/>
<link rel="stylesheet" href="~/css/homeranking.css" asp-append-version="true"/>
</head>
<body>
<script src="~/js/common.js"></script>
    <!-- Banner -->
    <div class="banner-container">
        <img class="stamplogo" src="~/image/Voting/stamplogo-big.png" alt="">
    </div>
    <!-- Avatar người dùng -->
    <div class="profile-container">
        <div class="avatar-frame">
             <!-- Sử dụng thẻ img để hiển thị hình ảnh avatar -->
            <img src="~/image/UserProfile/user-square.png" alt="" class="avatar-img">
                <button class="setting-button" id="setting-button">
                    <img src="~/image/UserProfile/setting.png">
                </button>
        </div>
        <span class="account-name">
            Tên người dùng
        </span>
    </div>
    <!-- Các nút trang chủ,đăng kí, bảng xếp hạng -->
    <div class="button-container">
        <button class="home-button" id="home-button">
            Trang chủ
        </button>
        <button class="ranking-button" id="ranking-button">
            Bảng xếp hạng
        </button>
        <button class="register-button" id="register-button">
            Đăng kí
        </button>
    </div>
    <!-- Tác phẩm cá nhân -->
    <div class="row flex-nowrap" id="row">
        <div class="col-6">
            <div class="stamp-container">
                <div class="author-container">
                    <div class="author-stamp-container">
                        <h3 class="stamp">Tác phẩm tem </h3>
                        <h3 class="stamp-name"> Hoàng hôn thiên văn </h3>
                    </div>
                    <div class="author-name-container">
                        <h3 class="author">Tác giả </h3>
                        <h3 class="author">D.P.H.My </h3>
                    </div>
                </div>
                <div class="stamp-frame">
                    <img src="~/image/UserProfile/image4.png" class="stamp-img">
                </div>
                <div class="ranking-container">
                    <h3 class="voting"> Vote </h3>
                    <h3 class="ranking"> #Rank </h3>
                </div>
            </div>
        </div>
        <div class="col-6">
            <div class="stamp-container">
                <div class="author-container">
                    <div class="author-stamp-container">
                        <h3 class="stamp">Tác phẩm tem </h3>
                        <h3 class="stamp-name"> Dinh độc lập </h3>
                    </div>
                    <div class="author-name-container">
                        <h3 class="author">Tác giả </h3>
                        <h3 class="author">N.V.Yến </h3>
                    </div>
                </div>
                <div class="stamp-frame">
                    <img src="~/image/UserProfile/image7.png" class="stamp-img">
                </div>
                <div class="ranking-container">
                    <h3 class="voting"> Vote </h3>
                    <h3 class="ranking"> #Rank </h3>
                </div>
            </div> 
        </div>
        <div class="col-6">
            <div class="stamp-container">
                <div class="author-container">
                    <div class="author-stamp-container">
                        <h3 class="stamp">Tác phẩm tem </h3>
                        <h3 class="stamp-name"> Mừng ngày phụ nữ Việt Nam 20/10 </h3>
                    </div>
                    <div class="author-name-container">
                        <h3 class="author">Tác giả </h3>
                        <h3 class="author">Đ.M.Khoa </h3>
                    </div>
                </div>
                <div class="stamp-frame">
                    <img src="~/image/UserProfile/image5.png" class="stamp-img">
                </div>
                <div class="ranking-container">
                    <h3 class="voting"> Vote </h3>
                    <h3 class="ranking"> #Rank </h3>
                </div>
            </div> 
        </div>
         <div class="col-6">
            <div class="stamp-container">
                <div class="author-container">
                    <div class="author-stamp-container">
                        <h3 class="stamp">Tác phẩm tem </h3>
                        <h3 class="stamp-name"> Mừng ngày phụ nữ Việt Nam 20/10 </h3>
                    </div>
                    <div class="author-name-container">
                        <h3 class="author">Tác giả </h3>
                        <h3 class="author">Đ.M.Khoa </h3>
                    </div>
                </div>
                <div class="stamp-frame">
                    <img src="~/image/shared/stamp.png" class="stamp-img">
                </div>
                <div class="ranking-container">
                    <h3 class="voting"> Vote </h3>
                    <h3 class="ranking"> #Rank </h3>
                </div>
            </div> 
        </div>
    </div> 
    </div>
    <div class="overlay" id="overlay"></div>
    <div id="modalOne" class="modal" id="modal" display:none>
        <div class="modal-content">
            <div class="contact-form" id="contact-form">
                <form action="/" id="myForm">
                    <h2>THÔNG TIN CÁ NHÂN</h2>
                    <div>
                        <div class="modify-avatar-frame">
                            <img src="~/image/UserProfile/user-circle-add.png" class="modify-avatar-img">
                        </div>
                        <div class="input-box">
                            <input class="glow" type="text" name="fullName" required />
                            <label> Họ và tên </label>
                        </div>
                        <div class="input-box">
                            <input class="glow" type="text" name="school" required />
                            <label> Trường </label>
                        </div>
                        <div class="input-box">
                            <input class="glow" type="text" name="studentID"  required />
                            <label> MSSV </label>
                        </div>
                        <div class="input-box">
                            <input class="glow" type="text" name="phoneNumber" required />
                            <label> Số điện thoại </label>
                        </div>
                    </div>
                    <div class="info-button-container">
                        <button class="save-button" id="save-button"> Lưu thông tin </button>
                        <a href="~/HomeRanking" class="exit-button" role="button">Thoát</a>
                    </div>
                </form>
            </div>
        </div>
    </div>
    <!-- Popup hiển thị số lượng vote -->
     <div class="voting-popup" id="votingPopup">
            <h2>Số lượt đã vote</h2>
        <div class="col">
            <div class="voting-wrapper">
                <div class="voting-container">
                    <h3 class="voting-number"> 1 </h3>
                        <div class="voting-avatar-frame">
                            <img src="~/image/UserProfile/user-square1.png" class="voting-avatar-img">
                        </div>
                    <h3 class="voting-name">Tên tài khoản </h3>
                        <div class="voted">
                            Đã vote
                        </div>
                </div>
            </div>
            <div class="voting-wrapper">
                <div class="voting-container">
                    <h3 class="voting-number"> 2 </h3>
                        <div class="voting-avatar-frame">
                            <img src="~/image/UserProfile/user-square1.png" class="voting-avatar-img">
                        </div>
                    <h3 class="voting-name">Tên tài khoản </h3>
                        <div class="voted">
                            Đã vote
                        </div>
                </div>
            </div>
            <div class="voting-wrapper">
                <div class="voting-container">
                    <h3 class="voting-number"> 3 </h3>
                        <div class="voting-avatar-frame">
                            <img src="~/image/UserProfile/user-square1.png" class="voting-avatar-img">
                        </div>
                    <h3 class="voting-name">Tên tài khoản </h3>
                        <div class="voted">
                            Đã vote
                        </div>
                </div>
            </div>
            <div class="voting-wrapper">
                <div class="voting-container">
                    <h3 class="voting-number"> 4 </h3>
                        <div class="voting-avatar-frame">
                            <img src="~/image/UserProfile/user-square1.png" class="voting-avatar-img">
                        </div>
                    <h3 class="voting-name">Tên tài khoản </h3>
                        <div class="voted">
                            Đã vote
                        </div>
                </div>
            </div>
            <div class="voting-wrapper">
                <div class="voting-container">
                    <h3 class="voting-number"> 5 </h3>
                        <div class="voting-avatar-frame">
                            <img src="~/image/UserProfile/user-square1.png" class="voting-avatar-img">
                        </div>
                    <h3 class="voting-name">Tên tài khoản </h3>
                        <div class="voted">
                            Đã vote
                        </div>
                </div>
            </div>
            <div class="voting-wrapper">
                <div class="voting-container">
                    <h3 class="voting-number"> 6</h3>
                        <div class="voting-avatar-frame">
                            <img src="~/image/UserProfile/user-square1.png" class="voting-avatar-img">
                        </div>
                    <h3 class="voting-name">Tên tài khoản </h3>
                        <div class="voted">
                            Đã vote
                        </div>
                </div>
            </div>
            <div class="voting-wrapper">
                <div class="voting-container">
                    <h3 class="voting-number"> 7</h3>
                        <div class="voting-avatar-frame">
                            <img src="~/image/UserProfile/user-square1.png" class="voting-avatar-img">
                        </div>
                    <h3 class="voting-name">Tên tài khoản </h3>
                        <div class="voted">
                            Đã vote
                        </div>
                </div>
            </div>
            <div class="voting-wrapper">
                <div class="voting-container">
                    <h3 class="voting-number"> 8 </h3>
                        <div class="voting-avatar-frame">
                            <img src="~/image/UserProfile/user-square1.png" class="voting-avatar-img">
                        </div>
                    <h3 class="voting-name">Tên tài khoản </h3>
                        <div class="voted">
                            Đã vote
                        </div>
                </div>
            </div>
            <div class="voting-wrapper">
                <div class="voting-container">
                    <h3 class="voting-number"> 9</h3>
                        <div class="voting-avatar-frame">
                            <img src="~/image/UserProfile/user-square1.png" class="voting-avatar-img">
                        </div>
                    <h3 class="voting-name">Tên tài khoản </h3>
                        <div class="voted">
                            Đã vote
                        </div>
                </div>
            </div>
            <div class="voting-wrapper">
                <div class="voting-container">
                    <h3 class="voting-number"> 10</h3>
                        <div class="voting-avatar-frame">
                            <img src="~/image/UserProfile/user-square1.png" class="voting-avatar-img">
                        </div>
                    <h3 class="voting-name">Tên tài khoản </h3>
                        <div class="voted">
                            Đã vote
                        </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Popup đâng kí sản phẩm-->
    <!-- Popup đăng kí hình  thức cá nhân hay nhóm -->
    <div class="method-popup" id="register-method">
        <h3 class="method-title"> Hình thức thi của bạn là </h3>
        <div class="method-button-container">
            <button class="invidual-method-button" id="invidual-method-button">
                <div class="invidual-container">
                    <div>
                        <img src="~/image/UserProfile/profile.png">
                        <h3 class="invidual-method"> Cá nhân </h3>
                    </div>
                </div>
            </button>
            <button class="people-method-button" id="people-method-button">
                <div class="people-container">
                    <img src="~/image/UserProfile/people.png">
                    <h3 class="people-method"> Nhóm </h3>
                </div>
            </button>
        </div>
        <button class="exit-method-button" id="exit-method-button">
            <span class="exit-method-icon">X</span>  
        </button>
    </div>
    <!-- Form đăng kí cá nhân -->
     <form action="/HomeRegisterStamp" class="invidual-form" id="invidual-form">
            <h3 class="invidual-form-title">Đăng kí</h3>
                <div>
                    <div class="input-box">
                        <input class="glow" type="text" name="school" required />
                        <label> Trường </label>
                    </div>
                    <div class="input-box">
                        <input class="glow" type="text" name="studentID"  required />
                        <label> MSSV </label>
                    </div>
                    <div class="input-box">
                        <input class="glow" type="text" name="phoneNumber" required />
                        <label> Số điện thoại </label>
                    </div>
                    </div>
                    <div class="invidual-button-container">
                        <button class="save-invidual-button" id="save-invidual-button"> Lưu </button>
                        <button type="button" class="cancel-invidual-button" id="cancel-invidual-button"> Hủy </button>
                </div>
    </form>
    <!-- Form đăng kí theo nhóm -->
     <form action="/HomeRegisterStamp" class="people-form" id="people-form">
            <h3 class="people-form-title">Đăng kí tác phẩm nhóm</h3>
                <div>
                    <div class="input-box">
                        <input class="glow" type="text" name="stamp-name" required />
                        <label> Tên tác phẩm </label>
                    </div>
                <div class="member">
                        <h3> Trưởng nhóm </h3>
                        <div class="input-box">
                            <input class="glow" type="text" name="membername"  required />
                            <label> Họ và tên </label>
                        </div>
                        <div class="input-box">
                            <input class="glow" type="text" name="memberemail" required />
                            <label> Email </label>
                        </div>
                         <div class="input-box">
                            <input class="glow" type="text" name="memberemail" required />
                            <label> MSSV </label>
                        </div>
                </div>
                <div class="member">
                        <h3> Thành viên 1 </h3>
                        <div class="input-box">
                            <input class="glow" type="text" name="membername"  required />
                            <label> Họ và tên </label>
                        </div>
                        <div class="input-box">
                            <input class="glow" type="text" name="memberemail" required />
                            <label> Email </label>
                        </div>
                        <div class="input-box">
                            <input class="glow" type="text" name="memberemail" required />
                            <label> MSSV </label>
                        </div>
                </div>
                <div class="member">
                        <h3> Thành viên 2 </h3>
                        <div class="input-box">
                            <input class="glow" type="text" name="membername"  required />
                            <label> Họ và tên </label>
                        </div>
                        <div class="input-box">
                            <input class="glow" type="text" name="memberemail" required />
                            <label> Email </label>
                        </div>
                        <div class="input-box">
                            <input class="glow" type="text" name="memberemail" required />
                            <label> MSSV </label>
                        </div>
                </div>
                <div class="people-button-container">
                    <button type="submit" class="save-people-button" id="save-people-button"> Lưu </button>
                    <button type="button"  class="cancel-people-button" id="cancel-people-button"> Hủy </button>
                </div>
    </form>
    <script>
  window.onload = function() {
    // Lấy danh sách tất cả các phần tử có lớp "stamp-img"
    var stampImgs = document.querySelectorAll('.stamp-img');

    // Duyệt qua từng phần tử hình ảnh và thực hiện xử lý
    stampImgs.forEach(function(stampImg) {
      // Tạo một đối tượng hình ảnh mới
      var img = new Image();

      // Đặt nguồn hình ảnh cho đối tượng hình ảnh từ phần tử stamp-img
      img.src = stampImg.src;

      // Kiểm tra kích thước của hình ảnh
      img.onload = function() {
        var stampFrame = stampImg.closest('.stamp-frame');
        if (!stampFrame) {
          console.log('Không tìm thấy khung cho hình ảnh có lớp "stamp-img".');
          return;
        }

        if (img.width > img.height) {
          // Hình ảnh ngang
          stampFrame.style.backgroundImage = "url('../image/shared/stampframe.png')";
          console.log(stampFrame.style.backgroundImage);
          console.log('ngua');
        } else {
          // Hình ảnh dọc
          stampFrame.style.backgroundImage = "url('../image/shared/stampframe.png')";
          console.log('nguacac');
          console.log(stampFrame.style.backgroundImage);
        }
      };
    });
  };
</script>
    <script>
    var rankingButton = document.querySelector(".home-button");
      rankingButton.addEventListener("click", function() {
            window.location.href = "HomeUser"; 
        });
    </script>
     <!-- JavaScript điều khiển popup đăng kí  -->
     <script>
        var registerButton = document.querySelector(".register-button");
        var popupRegister = document.getElementById("register-method");
        var closeButton = document.getElementById("exit-method-button");
        var invidualForm = document.getElementById("invidual-form");
        var invidualMethodButton=document.getElementById("invidual-method-button");
        var saveInvidualButton=document.getElementById("save-invidual-button");
        var cancelInvidualButton=document.getElementById("cancel-invidual-button");
        var peopleForm = document.getElementById("people-form");
        var peopleMethodButton=document.getElementById("people-method-button");
        var savePeopleButton=document.getElementById("save-people-button");
        var cancelPeopleButton=document.getElementById("cancel-people-button");
        registerButton.addEventListener("click", function() {
            popupRegister.style.display = "block";
            document.body.style.overflow = 'hidden'; 
            overlay.style.display = 'block';
        });
        invidualMethodButton.addEventListener("click", function() {
            invidualForm.style.display = "block";
            popupRegister.style.display = "none";
            document.body.style.overflow = 'hidden'; 
            overlay.style.display = 'block';
        });
        cancelInvidualButton.addEventListener("click", function() {
            popupRegister.style.display = "block";
            document.body.style.overflow = 'hidden'; 
            overlay.style.display = 'block';
            invidualForm.style.display = "none";
        });
         saveInvidualButton.addEventListener("click", function() {
           //Chỉnh sửa thêm javascipt truyền nhận dữ liệu
        });
         peopleMethodButton.addEventListener("click", function() {
            peopleForm.style.display = "block";
            popupRegister.style.display = "none";
            document.body.style.overflow = 'hidden'; 
            overlay.style.display = 'block';
        });
          cancelPeopleButton.addEventListener("click", function() {
            popupRegister.style.display = "block";
            document.body.style.overflow = 'hidden'; 
            overlay.style.display = 'block';
            peopleForm.style.display = "none";
        });
         savePeopleButton.addEventListener("click", function() {
           //Chỉnh sửa thêm javascipt truyền nhận dữ liệu
        });
        closeButton.addEventListener('click', () => {
            popupRegister.style.display = "none";
            document.body.style.overflow = 'auto'; // Bật lại cuộn
            overlay.style.display = 'none'; // Ẩn nền mờ
        });
    </script>
 <script>
        // JavaScript để hiển thị và điều khiển popup
        const images = document.querySelectorAll('.stamp-container');
        const popup = document.getElementById('votingPopup');
        // Hiện popup khi hình ảnh được nhấp vào
        images.forEach(image => {
            image.addEventListener('click', () => {
                popup.style.display = 'block';
                document.body.style.overflow = 'hidden'; // Tắt cuộn
                overlay.style.display = 'block'; // Hiển thị nền mờ
            });
        });
       overlay.addEventListener('click', () => {
    popup.style.display = 'none'; // Ẩn popup
    document.body.style.overflow = 'auto'; // Bật lại cuộn
    overlay.style.display = 'none'; // Ẩn overlay
    });
    </script>
    <script>
  document.addEventListener("DOMContentLoaded", function () {
  const customRow = document.getElementById("row");
  const stampContainers = document.querySelectorAll(".stamp-container");
  // Kiểm tra số lượng cột con
  const cols = customRow.querySelectorAll(".col-6");
  if (cols.length === 1) {
    customRow.style.paddingLeft = "35%";
    cols[0].style.width = "70%";
  }
  else if(cols.length === 2)
  {
    customRow.style.paddingLeft = "10%";
  }
   else  {
    customRow.style.paddingLeft = "2%";
  }
});
    </script>

     <!-- JavaScript điều khiển popup thay đổi thông tin cá nhân -->
    <script>
        const modalOne = document.getElementById('modalOne');
        const settingButton = document.getElementById('setting-button');
       
            settingButton.addEventListener('click', () => {
                modalOne.style.display = 'block';
                 document.body.style.overflow = 'hidden'; // Tắt cuộn
                overlay.style.display = 'block'; // Hiển thị nền mờ
            });
    </script>
</body>